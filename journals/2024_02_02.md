- Most of the the time the queue will not be transactional so keeping DB and Job queue state consistent becomes a distributed transaction problem.
	- DONE Find a way to keep DB state and job queue consistent.
		- Easiest way to negate this problem is to use the primary database as a Job queue. This seams like a anti pattern at first but queuing jobs into a database like [[PostgreSQL]] can be done transactionally. This can scale for small to medium size projects easily. Also with the help of [[PostgreSQL SKIP LOCKED]] we can handle parallel access to the [[PostgreSQL]] queue with problem by skipping locked rows without any issues.
- A [[API]] built on top of [[PostgreSQL]] with all of [[PostgreSQL]] capabilities plus native integrations with [[Meilisearch]], [[Typesense]], [[Minio]], [[NATS]] powered by [[CDC]].
	- All [[PostgreSQL]] tables will be synced to [[Meilisearch]] and [[Typesense]] for advance search.
	- [[PostgreSQL]] will get custom column type called file which will store file references uploaded to [[Minio]] or [[Amazon S3]] compatible system.